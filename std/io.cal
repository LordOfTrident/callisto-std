requires IO

include "array.cal"

func printdec_loop begin
	if dup then
		dup 10 / printdec_loop
		10 % 48 + printch
	else
		drop
	end
end

func printdec begin
	if dup then
		printdec_loop
	else
		drop 48 printch
	end
end

func printstr begin
	let addr  arr
	let usize length
	let usize i

	arr !
	arr @ @ length !

	while i @ length @ < do
		i @ arr @ a@ printch
		i @ 1 + i !
	end
end

func printlstr begin
	let Array arr
	arr a<
	arr printstr
end
